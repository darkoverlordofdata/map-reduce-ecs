{"version":3,"sources":["..\\..\\..\\..\\lib\\Systems\\InputSystem.fs"],"names":[],"mappings":";;;;;;;;;;AAmBY;AAAK;;AACH,qCAGE;AACI;AAAc;;AAClB,oBAAG,0BAAH,EACI;AAAA,sDAAc,kBAAd;;AACA,wBAAG,eAAH,EACI;AAAA,uCAAe,kBAAf;AACA,uCAAe,kBAAf;AACA;AAAiB;;AAJrB;AAKW,iBANf,MAQI;AAAA,qCACI;AAAA,0DAAc,kBAAd;;AACA,4BAAG,eAAH,EACI;AAAA,2CAAe,kBAAf;AACA,2CAAe,kBAAf;AACA;AAAiB;;AAJrB;AAKW,qBANf;AAAA;AAAA;AAQe;AAjBJ,aAAX;;AAoBR;AArBY,SAHV;AAAA;AAAA;AADA","file":"InputSystem.js","sourcesContent":["namespace Systems\r\n\r\n#if FABLE\r\nopen Fable.Core\r\nopen Fable.Import\r\nopen Fable.Import.Browser\r\nopen Fable.Core.JsInterop\r\n#endif\r\nopen Bosco\r\nopen Components\r\nopen Entities\r\nopen SystemInterface\r\nopen System.Collections.Generic\r\n\r\n[<AutoOpen>]\r\nmodule InputSystemModule =\r\n    let mutable timeToFire = 0.0\r\n    (** Get Player Input *)\r\n    let InputSystem (delta:float, mobile:bool, game:SystemInterface) entity =\r\n        let pf = if mobile then 2.0 else 1.0\r\n        match entity.EntityType with\r\n        | EntityType.Player -> \r\n\r\n            let position =\r\n                let newPosition = Mouse.position\r\n                if Keyboard.isPressed 90 then\r\n                    timeToFire <- timeToFire - delta\r\n                    if timeToFire <= 0.0 then\r\n                        game.AddBullet(newPosition.x-27.0, newPosition.y)\r\n                        game.AddBullet(newPosition.x+27.0, newPosition.y)\r\n                        timeToFire <- 0.1\r\n                    newPosition\r\n                else\r\n                    if Mouse.down then\r\n                        timeToFire <- timeToFire - delta\r\n                        if timeToFire <= 0.0 then\r\n                            game.AddBullet(newPosition.x-27.0, newPosition.y)\r\n                            game.AddBullet(newPosition.x+27.0, newPosition.y)\r\n                            timeToFire <- 0.1\r\n                        newPosition\r\n                    else\r\n                        newPosition\r\n\r\n            (* Set Player Position *)\r\n            { entity with Position = position;  }\r\n        | _ ->\r\n            entity\r\n"]}