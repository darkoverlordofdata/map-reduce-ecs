{"version":3,"sources":["..\\..\\..\\..\\lib\\Systems\\ExpiringSystem.fs"],"names":[],"mappings":";;;;;;;;AAqBc;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AACJ;AACY;AACG,6BAAG,OAAH;AAHX;AAIF;AAJ+B,aAA7B;AAAA;AAA6B;AAAA,SAA7B;AAAA;AAA6B;AAAA","file":"ExpiringSystem.js","sourcesContent":["namespace Systems\r\n\r\n#if HTML5\r\nopen Fable.Core\r\nopen Fable.Import\r\nopen Fable.Import.Browser\r\nopen Fable.Core.JsInterop\r\nopen Bosco\r\n#endif\r\nopen Components\r\nopen Entities\r\nopen System.Collections.Generic\r\n\r\n[<AutoOpen>]\r\nmodule ExpiringSystemModule =\r\n    (** \r\n    * Expiring System \r\n    *\r\n    * Destroy entities when their time is up\r\n    *)\r\n    let ExpiringSystem (delta:float) entity =\r\n        match entity.Expires, entity.Active with\r\n        | Some(v), true ->\r\n            let exp = v - delta\r\n            let active = if exp > 0. then true else false\r\n            { \r\n                entity with \r\n                    Expires = Some(exp);\r\n                    Active = active;\r\n            }\r\n        | _ -> entity\r\n"]}