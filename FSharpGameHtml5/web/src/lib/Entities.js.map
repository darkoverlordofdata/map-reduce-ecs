{"version":3,"sources":["..\\..\\..\\lib\\Entities.fs"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4BAgBU,E;;;AAGN;AAAA,sCAAY,YAAZ;AAAA;AACQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCJ;AAAS;AACb,wBAAiB,sCAAjB;AAES;AAHL;AAAA;AAAA;AAAA;AAQW;AARX;AAAA;AAAA;AAAA;AAAA;AAec;AACE;AAdpB,6HAgBW,yDAhBX;AAFU;;AAuBN;AAAS;AACb,wBAAiB,sCAAjB;AAES;AAHL;AAAA;AAAA;AAAA;AAQW;AARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBgB;AAdpB,6HAgBW,yDAhBX;AAFU;;AAuBN;AAAS;AACb,wBAAiB,sCAAjB;AAES;AAHL;AAAA;AAAA;AAAA;AAQW;AARX;AAAA;AAAA;AAAA;AAAA;AAec;AACE;AAdpB,6HAgBW,yDAhBX;AAFU;;AAsBN;AAAS;AACb,wBAAiB,sCAAjB;AAES;AAHL;AAAA;AAAA;AAAA;AAQW;AARX;AAAA;AAAA;AAAA;AAAA;AAec;AACE;AAdpB,6HAgBW,yDAhBX;AAFU;;AAuBN;AAAS;AACb,wBAAiB,sCAAjB;AAES;AAHL;AAAA;AAAA;AAAA;AAQW;AARX;AAAA;AAAA;AAAA;AAAA;AAec;AACE;AAdpB,6HAgBW,yDAhBX;AAFU;;AAuBN;AAAS;AACb,wBAAiB,sCAAjB;AAES;AAHL;AAAA;AAAA;AAAA;AAQW;AACE;AATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAEJ,8FAeiB,6BAAY,OAAZ,qBAfjB,2BAgBW,yDAhBX;AAFU;;AAsBN;AAAS;AACb,wBAAiB,sCAAjB;AAES;AAHL;AAAA;AAAA;AAAA;AAQW;AACE;AATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAEJ,8FAeiB,6BAAY,OAAZ,qBAfjB,2BAgBW,yDAhBX;AAFU","file":"Entities.js","sourcesContent":["module Entities\r\n\r\n(** ShmupWarz Game Demo *)\r\n#if HTML5\r\nopen Fable.Core\r\nopen Fable.Import\r\nopen Fable.Import.Browser\r\nopen Fable.Core.JsInterop\r\n#endif\r\n#if WINDOWS || LINUX\r\nopen Microsoft.Xna.Framework\r\nopen Microsoft.Xna.Framework.Graphics\r\n#endif\r\nopen Bosco\r\nopen Components\r\nopen System.Collections.Generic\r\nlet rnd = System.Random()\r\nlet mutable UniqueId = 0\r\nlet NextUniqueId() = \r\n    UniqueId <- UniqueId + 1\r\n    UniqueId\r\n\r\n(** Entity is a record of components *)\r\ntype Entity = \r\n    {\r\n        Id              : int;                  (* Unique sequential id *)\r\n        Name            : string;               (* Display name *)\r\n        Active          : bool;                 (* In use *)\r\n        EntityType      : EntityType;           (* Category *)\r\n        Layer           : Layer;                (* Display Layer *)\r\n        Tint            : Color option;         (* Color to use as tint *)\r\n        Bounds          : int option;           (* For Hit Detection *)\r\n        Expires         : float option;         (* Entity duration *)\r\n        Health          : Health option;        (* Points *)\r\n        Tween           : Tween option;         (* Explosion tweens *)\r\n#if HTML5\r\n        Sprite          : PIXI.Sprite option;   (* Sprite *)\r\n        Position        : PIXI.Point;           (* Position *)\r\n        Scale           : PIXI.Point option;    (* Display Scale *)\r\n        Size            : PIXI.Point;           (* Sprite size *)\r\n        Velocity        : PIXI.Point option;    (* Movement speed *)\r\n#endif\r\n#if WINDOWS || LINUX\r\n        Position        : Vector2;              (* Position *)\r\n        Sprite          : Texture2D option;     (* Sprite *)\r\n        Scale           : Vector2 option;       (* Display Scale *)\r\n        Size            : Vector2;              (* Sprite size *)\r\n        Velocity        : Vector2 option;       (* Movement speed *)\r\n#endif\r\n    }\r\n\r\n\r\n(** Create a Player Entity *)\r\nlet CreatePlayer (content:obj) =\r\n    let sprite = CreateSprite(unbox content?fighter?texture)\r\n    sprite.anchor <- CreatePoint(0.5, 0.5)\r\n    {\r\n        Id = NextUniqueId();\r\n        Name = \"Player\";\r\n        Active = true;\r\n        EntityType = EntityType.Player; \r\n        Layer = Layer.PLAYER;\r\n        Position = CreatePoint(0., 0.); \r\n        Scale = None;\r\n        Sprite = Some(sprite);\r\n        Tint = None;\r\n\r\n        Bounds = Some(43);\r\n        Expires = None;\r\n        Health = Some(CreateHealth(100, 100));\r\n        Velocity = Some(CreatePoint(0., 0.));\r\n        Tween = None;\r\n        Size = CreatePoint(float sprite.width, float sprite.height);\r\n    }\r\n     \r\n(** Create a Bullet Entity *)\r\nlet CreateBullet (content:obj) =\r\n    let sprite = CreateSprite(unbox content?bullet?texture)\r\n    sprite.anchor <- CreatePoint(0.5, 0.5)\r\n    {\r\n        Id = NextUniqueId();\r\n        Name = \"Bullet\";\r\n        Active = false;\r\n        EntityType = EntityType.Bullet; \r\n        Layer = Layer.BULLET;\r\n        Position = CreatePoint(0., 0.); \r\n        Scale = None;\r\n        Sprite = Some(sprite);\r\n        Tint = Some(Color.GreenYellow);\r\n\r\n        Bounds = Some(5);\r\n        Expires = Some(0.1);\r\n        Health = None;\r\n        Velocity = Some(CreatePoint(0., -800.));\r\n        Tween = None;\r\n        Size = CreatePoint(float sprite.width, float sprite.height);\r\n    }\r\n\r\n(** Create Enemy *)\r\nlet CreateEnemy1 (content:obj)  =\r\n    let sprite = CreateSprite(unbox content?enemy1?texture)\r\n    sprite.anchor <- CreatePoint(0.5, 0.5)\r\n    {\r\n        Id = NextUniqueId();\r\n        Name = \"Enemy1\";\r\n        Active = false;\r\n        EntityType = EntityType.Enemy; \r\n        Layer = Layer.ENEMY1;\r\n        Position = CreatePoint(0., 0.); \r\n        Scale = None;\r\n        Sprite = Some(sprite);\r\n        Tint = None;\r\n\r\n        Bounds = Some(20);\r\n        Expires = None\r\n        Health = Some(CreateHealth(10, 10));\r\n        Velocity = Some(CreatePoint(0., 40.));\r\n        Tween = None;\r\n        Size = CreatePoint(float sprite.width, float sprite.height);\r\n    }\r\n(** Create Enemy *)\r\nlet CreateEnemy2 (content:obj) =\r\n    let sprite = CreateSprite(unbox content?enemy2?texture)\r\n    sprite.anchor <- CreatePoint(0.5, 0.5)\r\n    {\r\n        Id = NextUniqueId();\r\n        Name = \"Enemy2\";\r\n        Active = false;\r\n        EntityType = EntityType.Enemy; \r\n        Layer = Layer.ENEMY2;\r\n        Position = CreatePoint(0., 0.); \r\n        Scale = None;\r\n        Sprite = Some(sprite);\r\n        Tint = None;\r\n\r\n        Bounds = Some(40);\r\n        Expires = None\r\n        Health = Some(CreateHealth(20, 20));\r\n        Velocity = Some(CreatePoint(0., 30.));\r\n        Tween = None;\r\n        Size = CreatePoint(float sprite.width, float sprite.height);\r\n    }\r\n\r\n(** Create Enemy *)\r\nlet CreateEnemy3 (content:obj)  =\r\n    let sprite = CreateSprite(unbox content?enemy3?texture)\r\n    sprite.anchor <- CreatePoint(0.5, 0.5)\r\n    {\r\n        Id = NextUniqueId();\r\n        Name = \"Enemy3\";\r\n        Active = false;\r\n        EntityType = EntityType.Enemy; \r\n        Layer = Layer.ENEMY3;\r\n        Position = CreatePoint(0., 0.); \r\n        Scale = None;\r\n        Sprite = Some(sprite);\r\n        Tint = None;\r\n\r\n        Bounds = Some(70);\r\n        Expires = None\r\n        Health = Some(CreateHealth(60, 60));\r\n        Velocity = Some(CreatePoint(0., 20.));\r\n        Tween = None;\r\n        Size = CreatePoint(float sprite.width, float sprite.height);\r\n    }\r\n\r\n(** Create Big Explosion *)\r\nlet CreateExplosion (content:obj) =\r\n    let sprite = CreateSprite(unbox content?explosion?texture)\r\n    sprite.anchor <- CreatePoint(0.5, 0.5)\r\n    {\r\n        Id = NextUniqueId();\r\n        Name = \"Explosion\";\r\n        Active = false;\r\n        EntityType = EntityType.Explosion; \r\n        Layer = Layer.EXPLOSION;\r\n        Position = CreatePoint(0., 0.); \r\n        Scale = Some(CreatePoint(1., 1.))\r\n        Sprite = Some(sprite);\r\n        Tint = Some(Color.LightGoldenrodYellow);\r\n\r\n        Bounds = None;\r\n        Expires = Some(0.5);\r\n        Health = None;\r\n        Velocity = None;\r\n        Tween = Some(CreateTween(1./100., 1., -3., false, true));\r\n        Size = CreatePoint(float sprite.width, float sprite.height);\r\n    }\r\n\r\nlet CreateBang (content:obj) =\r\n    let sprite = CreateSprite(unbox content?bang?texture)\r\n    sprite.anchor <- CreatePoint(0.5, 0.5)\r\n    {\r\n        Id = NextUniqueId();\r\n        Name = \"Bang\";\r\n        Active = false;\r\n        EntityType = EntityType.Explosion; \r\n        Layer = Layer.BANG;\r\n        Position = CreatePoint(0., 0.); \r\n        Scale = Some(CreatePoint(1., 1.))\r\n        Sprite = Some(sprite);\r\n        Tint = Some(Color.PaleGoldenrod);\r\n\r\n        Bounds = None;\r\n        Expires = Some(0.5);\r\n        Health = None;\r\n        Velocity = None;\r\n        Tween = Some(CreateTween(1./100., 1., -3., false, true));\r\n        Size = CreatePoint(float sprite.width, float sprite.height);\r\n    }\r\n\r\n"]}